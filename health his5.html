  <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Medication History - Health Style</title>

    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="health website" name="keywords">
    <meta content="health website" name="description">

    <!-- Favicon -->
    <link rel="icon" href="img/favicon.png">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Rubik:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/animate/animate.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <style>
        /* Style for the medication table */
        #medicationTable {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        #medicationTable th,
        #medicationTable td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            word-break: break-word; /* Prevent overflow */
        }

        #medicationTable th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        #medicationTable tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        #medicationTable tr:hover {
            background-color: #ddd;
        }

        .truncated-text {
            display: inline-block;  /*Ensure width is respected*/
            max-width: 200px; /* Adjust as needed */
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            cursor: pointer;
            vertical-align: top; /* Align to the top */

        }

        /* Responsive Styles for Table */
        @media (max-width: 768px) {
            #medicationTable {
                width: 100%;
            }

            #medicationTable th,
            #medicationTable td {
                display: block;
                width: auto;
                text-align: left;
            }

            #medicationTable thead {
                display: none;  /* Hide header */
            }

            #medicationTable tr {
                margin-bottom: 15px;
                border: 1px solid #ddd;
            }

            #medicationTable td:before {
                content: attr(data-label); /* Add header label */
                float: left;
                margin-right: 10px;
                font-weight: bold;
            }
        }
    </style>
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner"></div>
    </div>
    <!-- Spinner End -->

    <!-- Topbar Start -->
    <div class="container-fluid bg-dark px-5 d-none d-lg-block">
        <div class="row gx-0">
            <div class="col-lg-8 text-center text-lg-start mb-2 mb-lg-0">
                <div class="d-inline-flex align-items-center" style="height: 45px;">
                    <small class="me-3 text-light"><i class="fa fa-map-marker-alt me-2"></i>Kampala</small>
                    <small class="me-3 text-light"><i class="fa fa-phone-alt me-2"></i>+256706611006</small>
                    <small class="text-light"><i class="fa fa-envelope-open me-2"></i>healthstyle@gmail.com</small>
                </div>
            </div>
            <div class="col-lg-4 text-center text-lg-end">
                <div class="d-inline-flex align-items-center" style="height: 45px;">
                    <a class="btn btn-sm btn-outline-light btn-sm-square rounded-circle me-2" href=""><i
                            class="fab fa-twitter fw-normal"></i></a>
                    <a class="btn btn-sm btn-outline-light btn-sm-square rounded-circle me-2" href=""><i
                            class="fab fa-facebook-f fw-normal"></i></a>

                    <a class="btn btn-sm btn-outline-light btn-sm-square rounded-circle me-2" href=""><i
                            class="fab fa-instagram fw-normal"></i></a>
                    <a class="btn btn-sm btn-outline-light btn-sm-square rounded-circle" href=""><i
                            class="fab fa-youtube fw-normal"></i></a>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <div class="container-fluid position-relative p-0">
        <nav class="navbar navbar-expand-lg navbar-dark px-5 py-3 py-lg-0">
            <a href="index.html" class="navbar-brand p-0">
                <h1 class="m-0"><i> </i> <img src="img/favicon.png" width='50px' height='50px'>Health Style</h1>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="fa fa-bars"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto py-0">
                    <a href="index.html" class="nav-item nav-link ">Home</a>
                    <a href="about.html" class="nav-item nav-link ">About</a>

                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Health Status</a>
                        <div class="dropdown-menu m-0">
                            <a href="health ai.html" class="dropdown-item">Health AI</a>
                            <a href="BMI calculator.html" class="dropdown-item">BMI Calculator</a>
                            <a href="health data.html" class="dropdown-item">Health data</a>
                            <a href="medication reminder.html" class="dropdown-item">Medication Reminder</a>
                            <a href="suggestion timetable.html" class="dropdown-item">Suggestion Timetable</a>
                            <a href="health status analysis.html" class="dropdown-item">Health Status Analysis</a>
                        </div>
                    </div>

                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Blog</a>
                        <div class="dropdown-menu m-0">
                            <a href="blog.html" class="dropdown-item">Blog Grid</a>
                            <a href="detail.html" class="dropdown-item">Blog Detail</a>
                        </div>
                    </div>
                    <div class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Services</a>
                        <div class="dropdown-menu m-0">

                            <a href="feature.html" class="dropdown-item">Our features</a>
                            <a href="Consultants.html" class="dropdown-item">Consultants</a>


                        </div>
                    </div>
                    <a href="contact.html" class="nav-item nav-link">Contact</a>
                </div>
                <butaton type="button" class="btn text-primary ms-3" data-bs-toggle="modal"
                    data-bs-target="#searchModal"><i class="fa fa-search"></i></butaton>
                <a href=" " class="btn btn-primary py-2 px-4 ms-3" style='background-color:red;'>Emergency</a>

            </div>
        </nav>

        <div class="container-fluid bg-primary py-5 bg-header" style="margin-bottom: 90px;">
            <div class="row py-5">
                <div class="col-12 pt-lg-5 mt-lg-5 text-center">
                    <h1 class="display-4 text-white animated zoomIn">Medication History</h1>

                </div>
            </div>
        </div>
    </div>
    <!-- Navbar End -->

    <!-- Full Screen Search Start -->
    <div class="modal fade" id="searchModal" tabindex="-1">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content" style="background: rgba(9, 30, 62, .7);">
                <div class="modal-header border-0">
                    <button type="button" class="btn bg-white btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex align-items-center justify-content-center">
                    <div class="input-group" style="max-width: 600px;">
                        <input type="text" class="form-control bg-transparent border-primary p-3"
                            placeholder="Type search keyword">
                        <button class="btn btn-primary px-4"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Full Screen Search End -->

    <!-- Medication History Section -->
    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="section-title position-relative pb-3 mb-5">
                <h5 class="fw-bold text-primary text-uppercase">Your Medication History</h5>
                <h1 class="mb-0">Keep track of your medications.</h1>
            </div>

            <!-- Add Medication Button -->
            <button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal"
                data-bs-target="#addMedicationModal">Add Medication</button>

            <!-- Medication Table -->
            <table id="medicationTable" class="table table-striped">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Details</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Medication entries will be added here dynamically -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Add Medication Modal -->
    <div class="modal fade" id="addMedicationModal" tabindex="-1" aria-labelledby="addMedicationModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addMedicationModalLabel">Add Medication History</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="medicationTitle" class="form-label">Title</label>
                        <input type="text" class="form-control" id="medicationTitle">
                    </div>
                    <div class="mb-3">
                        <label for="medicationDetails" class="form-label">Details</label>
                        <textarea class="form-control" id="medicationDetails" rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="addMedicationBtn">Add</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Medication Detail Modal -->
    <div class="modal fade" id="medicationDetailModal" tabindex="-1" aria-labelledby="medicationDetailModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="medicationDetailModalLabel">Medication Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="medicationDetailText"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-light mt-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="col-lg-8 col-md-6">
            <div class="row gx-5">
                <div class="col-lg-4 col-md-12 pt-5 mb-5">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="text-light mb-0">Get In Touch</h3>
                    </div>
                    <div class="d-flex mb-2">
                        <i class="bi bi-geo-alt text-primary me-2"></i>
                        <p class="mb-0">Kampala </p>
                    </div>
                    <div class="d-flex mb-2">
                        <i class="bi bi-envelope-open text-primary me-2"></i>
                        <p class="mb-0">healthstyle@gmail.com</p>
                    </div>
                    <div class="d-flex mb-2">
                        <i class="bi bi-telephone text-primary me-2"></i>
                        <p class="mb-0">+256706611006</p>
                    </div>
                    <div class="d-flex mt-4">
                        <a class="btn btn-primary btn-square me-2" href="#"><i
                                class="fab fa-twitter fw-normal"></i></a>
                        <a class="btn btn-primary btn-square me-2" href="#"><i
                                class="fab fa-facebook-f fw-normal"></i></a>
                        <a class="btn btn-primary btn-square me-2" href="#"><i
                                class="fab fa-linkedin-in fw-normal"></i></a>
                        <a class="btn btn-primary btn-square" href="#"><i class="fab fa-instagram fw-normal"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 pt-0 pt-lg-5 mb-5">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="text-light mb-0">Quick Links</h3>
                    </div>
                    <div class="link-animated d-flex flex-column justify-content-start">
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Home</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>About
                            Us</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Our
                            Services</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Meet
                            The Team</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Latest
                            Blog</a>
                        <a class="text-light" href="#"><i
                                class="bi bi-arrow-right text-primary me-2"></i>Contact Us</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 pt-0 pt-lg-5 mb-5">
                    <div class="section-title section-title-sm position-relative pb-3 mb-4">
                        <h3 class="text-light mb-0">Popular Links</h3>
                    </div>
                    <div class="link-animated d-flex flex-column justify-content-start">
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Home</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>About
                            Us</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Our
                            Services</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Meet
                            The Team</a>
                        <a class="text-light mb-2" href="#"><i class="bi bi-arrow-right text-primary me-2"></i>Latest
                            Blog</a>
                        <a class="text-light" href="#"><i
                                class="bi bi-arrow-right text-primary me-2"></i>Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid text-white" style="background: #061429;">
        <div class="container text-center">
            <div class="row justify-content-end">
                <div class="col-lg-8 col-md-6">
                    <div class="d-flex align-items-center justify-content-center" style="height: 75px;">
                        <p class="mb-0">© <a class="text-white border-bottom" href="#">Health Style</a>. All
                            Rights Reserved.

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded back-to-top"><i
            class="bi bi-arrow-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script>
        $(document).ready(function () {
            // Function to load medication history from local storage
            function loadMedicationHistory() {
                let medicationHistory = JSON.parse(localStorage.getItem('medicationHistory')) || [];
                let tableBody = $('#medicationTable tbody');
                tableBody.empty(); // Clear existing table rows

                medicationHistory.forEach(function (medication, index) {
                    let truncatedDetails = medication.details.length > 200
                        ? `<span class="truncated-text" data-full-text="${medication.details}" data-label="Details">${medication.details.substring(0, 200)}...</span>`
                        : `<span data-label="Details">${medication.details}</span>`; // Keep the data-label for consistent responsive layout

                    let row = `
                        <tr>
                            <td data-label="Title">${medication.title}</td>
                            <td data-label="Details">${truncatedDetails}</td>
                            <td data-label="Actions">
                                <button class="btn btn-danger btn-sm delete-medication" data-index="${index}">Delete</button>
                            </td>
                        </tr>
                    `;
                    tableBody.append(row);
                });
            }

            // Initial load of medication history on page load
            loadMedicationHistory();

            // Add Medication Button Click
            $('#addMedicationBtn').click(function () {
                let title = $('#medicationTitle').val();
                let details = $('#medicationDetails').val();

                if (title && details) {
                    let medicationHistory = JSON.parse(localStorage.getItem('medicationHistory')) || [];
                    medicationHistory.push({ title: title, details: details });
                    localStorage.setItem('medicationHistory', JSON.stringify(medicationHistory));

                    // Clear the form
                    $('#medicationTitle').val('');
                    $('#medicationDetails').val('');

                    // Reload the table
                    loadMedicationHistory();

                    // Close the modal
                    $('#addMedicationModal').modal('hide');
                } else {
                    alert('Please fill in both title and details.');
                }
            });

            // Delete Medication Button Click (Delegated Event)
            $('#medicationTable tbody').on('click', '.delete-medication', function () {
                let index = $(this).data('index');
                let medicationHistory = JSON.parse(localStorage.getItem('medicationHistory')) || [];

                medicationHistory.splice(index, 1); // Remove the item from the array
                localStorage.setItem('medicationHistory', JSON.stringify(medicationHistory));

                loadMedicationHistory(); // Reload the table
            });

            // Show full details on click
            $('#medicationTable tbody').on('click', '.truncated-text', function () {
                let fullText = $(this).data('full-text');
                $('#medicationDetailText').text(fullText);
                $('#medicationDetailModal').modal('show');
            });
        });
    </script>
</body>

</html>